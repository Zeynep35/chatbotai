<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Chatbot AI</title>
        <style>
            body { font-family: system-ui; max-width: 720px; margin: auto; }
            textarea { width: 100%; height: 120px; }
            button { padding: 10px 14px; margin-top: 10px; }
            pre { background: #f5f5f5; padding: 12px; white-space: pre-wrap; }
        </style>
    </head>
    <body>
        <h1>Chatbot AI</h1>

        <textarea id="q" placeholder="Sorunuzu yazınız..."></textarea>
        <br/>
        <button id="btn">Cevapla</button>

        <h3>Cevap</h3>
        <pre id="a">-</pre>

        <script>
            const API_BASE = "";  
            document.getElementById("btn").addEventListener("click", async () =>{
                const question = document.getElementById("q").value.trim();
                if (!question) return;

                document.getElementById("a").textContent = "Yükleniyor...";

                try{
                    const res = await fetch(`${API_BASE}/ask`, {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify({ question }),
                    });

                    if (!res.ok) {
                        const txt = await res.text();
                        throw new Error(txt || `HTTP ${res.status}`);  
                    }

                    const data = await res.json();
                    document.getElementById("a").textContent = data.answer ?? "(Cevap yok)";
                } catch (err) {
                    document.getElementById("a").textContent = "Hata: " + err.message;
                }
            });
        </script>
    </body>
</html>